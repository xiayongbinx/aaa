<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.test6.user_module.login.mapper.SystemUserMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.example.test6.user_module.login.model.SystemUser">
        <id column="id" property="id" />
        <result column="username" property="username" />
        <result column="password" property="password" />
        <result column="create_time" property="createTime" />
        <result column="is_dj" property="isDj" />
        <result column="dj_time" property="djTime" />
        <result column="jcdj_time" property="jcdjTime" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id, username, password, create_time, is_dj, dj_time, jcdj_time
    </sql>


    <select id="user_login_test" parameterType="com.example.test6.user_module.login.model.SystemUser" resultMap="BaseResultMap">
            select
                  <include refid="Base_Column_List"></include>
            from
                 system_user
        <where>

            <if test="username!=null and username!=''">
                username=#{username}
            </if>
            <if test="password!=null and password!=''">
                and password=#{password}
            </if>
        </where>
    </select>
    <insert id="user_regist_test" parameterType="com.example.test6.user_module.login.model.SystemUser" >

      insert into   system_user
      (id,username, password, emial)
      values( #{id},#{username},#{password},#{emial})
    </insert>
    <!--int  user_CHeck_regist_test(string UserName);-->
    <select id="user_CHeck_regist_test" resultType="java.lang.Integer">
        select count(1) from system_user
        <where>
            <if test="username!=null and username!=''">
                username=#{username}
            </if>
            <if test="password!=null and password!=''">
                password=#{password}
            </if>
            <if test="emial!=null and emial!=''">
                emial=#{emial}
            </if>
        </where>
    </select>
</mapper>
